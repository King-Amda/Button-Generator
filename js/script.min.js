var btnCount=1;function addButton(){if(document.querySelectorAll(".group").length<100){btnCount++;const e=document.createElement("div");e.className="group",e.innerHTML=`\n            <div class="button-info">\n                <div class="button-input">\n                    <label for="button-name-${btnCount}">Button Name</label>\n                    <input type="text" name="button-name-${btnCount}" id="button-name-${btnCount}">\n                </div>\n                <div class="button-input">\n                    <label for="text-${btnCount}">Button Link</label>\n                    <input type="text" name="text-${btnCount}" id="text-${btnCount}">\n                </div>\n            </div>\n            <div class="options">\n                <div class="button-sameline">\n                    <input type="checkbox" class="sameline-switch" name="sameline-toggle-${btnCount}" id="sameline-toggle-${btnCount}">\n                    <label class="sameline-label" for="sameline-toggle-${btnCount}">Same Line<span class="sameline-checkbox"></span></label>\n                </div>\n                <div class="button-type">\n                    <input type="checkbox" name="type-toggle-${btnCount}" id="type-toggle-${btnCount}">\n                    <label for="type-toggle-${btnCount}">\n                        <div class="button-type-switch" data-checked="Note" data-unchecked="Link"></div>\n                    </label>\n                </div>\n                <div class="delete">\n                    <button onclick="removeButton(this)" id="delete-${btnCount}" class="delete-rose-button"><i class="far fa-trash-alt"></i></button>\n                </div>\n            </div>\n        `,document.querySelector(".delete-rose-button").style.removeProperty("color"),document.querySelector("#rose-wrapper").appendChild(e),e.scrollIntoView()}else alert("As per Telegram limits, a message may only contain a maximum of 100 buttons.")}function removeButton(e){if(2==document.querySelectorAll(".group").length)return document.querySelector("#rose-wrapper").removeChild(e.parentNode.parentNode.parentNode),void(document.querySelector(".delete-rose-button").style.color="grey");document.querySelectorAll(".group").length>1&&document.querySelector("#rose-wrapper").removeChild(e.parentNode.parentNode.parentNode)}function generateButtonCode(){var e=[];document.querySelector("#button-output").innerHTML="";let t=document.querySelectorAll(".group");for(i=0;i<t.length;i++){var n={};let l=t[i].querySelectorAll("input");var o=!1;for(x=0;x<2;x++)""==l[x].value?(l[x].classList.add("buttoncode-input-empty"),o=!0):l[x].classList.remove("buttoncode-input-empty");n.label=l[0].value,n.link=l[1].value,l[2].checked&&0!=i?n.sameline=":same":n.sameline="",l[3].checked?n.type="#":n.type="",e.push(n)}if(1==o)return document.querySelector("#button-output").innerHTML="<p>Please fill all blank fields (text, link, link type)</p>",void document.querySelector("#button-output").classList.add("buttoncode-error");let l=0;for(i=0;i<e.length;i++){let t=document.createElement("p");if(t.innerHTML="["+e[i].label.trim()+"](buttonurl://"+e[i].type+e[i].link.trim()+e[i].sameline+")",l+t.innerHTML.length>4096)return document.querySelector("#button-output").innerHTML="Too many characters!",void document.querySelector("#button-output").classList.add("buttoncode-error");l+=t.innerHTML.length,document.querySelector("#button-output").appendChild(t),document.querySelector("#button-output").classList.remove("buttoncode-error"),document.querySelector("#button-output").classList.add("buttoncode-success")}}function copyCode(){var e=document.querySelector("#button-output").innerText;if(""!=e&&"Please fill all blank fields (text, link, link type)"!=e){var t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t);const n=document.createElement("div");n.className="button-copy-success",n.innerHTML="<p>Button code successfully copied to clipboard!</p>",document.querySelector("body").appendChild(n);let o=0;setInterval(function(){n.style.opacity=o,o+=.1},10),setTimeout(function(){document.querySelector("body").removeChild(n)},1500)}}
